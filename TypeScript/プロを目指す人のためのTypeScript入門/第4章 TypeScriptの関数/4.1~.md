# 第 4 章 TypeScript の関数

## 4.1 関数の作り方

### 4.1.7 可変長引数の宣言

- 関数が引数を任意の数だけ受け取れるようにする
- 引数に **...<ins>引数名</ins>: <ins>型</ins>** と書く(rest 引数という)
  - 引数リストの中で最後の **1 回だけ**使える
  - rest 引数の型は必ず**配列型**でなければならない

```ts
// 引数を全て合計した数を返す関数
const sum = (...args: number[]): number {
//           ^^^^^^^^^^^^^^^^^
//           rest引数。必ず配列型
  let result = 0;

  for (const num of args) {
    result += num;
  }

  return result;
}

console.log(sum(1, 10, 100)); // => 111
console.log(sum()); // => 0
```

### 4.1.10 コールバック関数を使ってみる

- コールバック関数
  - **関数の引数として関数を渡したとき、その渡された関数**
  - 配列のメソッドでよく使われる
  - 配列にはコールバック関数を渡すメソッドが数多くある
    - map 関数
    - filter 関数
    - every 関数
    - some 関数
    - find 関数 ...など

```ts
type User = { name: string; age: number };
const users: User[] = [
  { name: "taro", age: 26 },
  { name: "jiro", age: 35 },
];

// map関数: コールバック関数を配列の各要素に適用した結果からなる新しい配列を返す
const names = users.map((u: User): string => u.name);
// => ['taro', 'jiro']
```

## 4.2 関数の型

### 4.2.1 関数型の記法

- 記法：(<ins>引数リスト</ins>) => <ins>返り値の型</ins>
- 使用例

```ts
type F = (repeatNum: number) => string;

const xRpeat: F = (num: number) => "x".repeat(num);
```
